<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>拖拽</title>
	<style type="text/css">
	#div1{width: 200px; height: 200px; background-color: red; position:absolute;}
	</style>
	<script type="text/javascript" charset="utf-8">
window.onload = function() {
		var disX = 0;
		var disY = 0;
		var oTxt = document.getElementById("div1");
		oTxt.onmousedown = function (ev) {
		var evnt = ev || event;
		disX = evnt.clientX - oTxt.offsetLeft;
		disY = evnt.clientY - oTxt.offsetTop;
		document.onmousemove = function(ev) {
		var evnt = ev || event;
		var x = evnt.clientX - disX;
		var y = evnt.clientY - disY;
		if( x<0 ){
			x = 0;
		} else if (x>document.documentElement.clientWidth-oTxt.offsetWidth){
		x = document.documentElement.clientWidth-oTxt.offsetWidth;
		} 
		if (y > document.documentElement.clientHeight-oTxt.offsetHeight){
		y = document.documentElement.clientHeight-oTxt.offsetHeight;
		}else if( y<0 ) {
		y = 0;
		} 
		oTxt.style.left = x  + "px";
		oTxt.style.top = y  + "px";
	}
		document.onmouseup = function() {
		document.onmousemove = null;
		document.onmouseup = null;
}
		return false;
	}
}
</script>
		</head>
<body>
		<div id="div1"></div>

</body>
</html>